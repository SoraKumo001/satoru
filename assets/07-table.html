<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Satoru Complex Table Test</title>
  <style>
    @font-face {
      font-family: 'Noto Sans JP';
      src: url('https://fonts.gstatic.com/s/notosansjp/v52/-F6jfjtqLzI2JPCgQBnw7HFyzSD-AsregP8VFBEj75vY0rw-oME.ttf');
      font-weight: 400;
    }

    @font-face {
      font-family: 'Roboto';
      src: url('https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu4mxK.woff2');
      font-weight: 400;
      font-style: normal;
    }

    body {
      font-family: 'Roboto', 'Noto Sans JP', sans-serif;
      background-color: #f4f7f6;
      padding: 30px;
      color: #333;
    }

    .container {
      max-width: 1000px;
      margin: 0 auto;
      background: white;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.05);
    }

    h1 {
      text-align: center;
      color: #2c3e50;
      margin-bottom: 30px;
      border-bottom: 3px solid #3498db;
      padding-bottom: 10px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 30px;
      table-layout: auto;
    }

    th,
    td {
      border: 1px solid #bdc3c7;
      padding: 12px;
      text-align: left;
    }

    th {
      background-color: #34495e;
      color: white;
      text-transform: uppercase;
      font-size: 0.85em;
      letter-spacing: 1px;
    }

    /* Complex Spans Table */
    .complex-spans th {
      background-color: #2980b9;
    }

    .row-group {
      background-color: #ecf0f1;
      font-weight: bold;
    }

    /* Nested Table */
    .nested-container {
      padding: 0;
      background-color: #fff;
    }

    .nested-table {
      margin: 0;
      border: none;
    }

    .nested-table td {
      border-left: none;
      border-right: none;
      background-color: #fdfdfe;
    }

    .nested-table tr:first-child td {
      border-top: none;
    }

    .nested-table tr:last-child td {
      border-bottom: none;
    }

    /* Styling variants */
    .bg-gradient {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
    }

    .bg-pattern {
      background-color: #e5e5f7;
      background-image: radial-gradient(#444cf7 0.5px, transparent 0.5px), radial-gradient(#444cf7 0.5px, #e5e5f7 0.5px);
      background-size: 20px 20px;
      background-position: 0 0, 10px 10px;
    }

    .valign-top {
      vertical-align: top;
    }

    .valign-bottom {
      vertical-align: bottom;
    }

    .text-center {
      text-align: center;
    }

    .price-tag {
      font-family: monospace;
      font-weight: bold;
      color: #e74c3c;
    }

    .badge {
      padding: 2px 6px;
      border-radius: 10px;
      font-size: 0.75em;
      color: white;
    }

    .badge-pro {
      background-color: #f1c40f;
      color: #333;
    }

    .badge-dev {
      background-color: #9b59b6;
    }

    .shadow-cell {
      box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.1);
    }

    /* Fixed Width column */
    .col-fixed {
      width: 150px;
    }
  </style>
</head>

<body>

  <div class="container">
    <h1>Complex Matrix & Nested Structure</h1>

    <table class="complex-spans">
      <thead>
        <tr>
          <th rowspan="3" class="col-fixed">Category</th>
          <th colspan="4" class="text-center">Performance Metrics (Q1-Q4)</th>
          <th rowspan="3">Global Score</th>
        </tr>
        <tr>
          <th colspan="2" class="text-center">Direct Sales</th>
          <th colspan="2" class="text-center">Online Channels</th>
        </tr>
        <tr>
          <th>Region A</th>
          <th>Region B</th>
          <th>Global</th>
          <th>Ads Yield</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td rowspan="2" class="row-group">Infrastructure</td>
          <td>0.85</td>
          <td class="bg-pattern">0.92</td>
          <td>1.2k</td>
          <td>High</td>
          <td rowspan="4" class="bg-gradient text-center">
            <div style="font-size: 2em; font-weight: bold;">A+</div>
            <span class="badge badge-pro">Verified</span>
          </td>
        </tr>
        <tr>
          <td>0.77</td>
          <td>0.81</td>
          <td class="nested-container">
            <table class="nested-table">
              <tr>
                <td>Mobile</td>
                <td>45%</td>
              </tr>
              <tr>
                <td>Desktop</td>
                <td>55%</td>
              </tr>
            </table>
          </td>
          <td>Med</td>
        </tr>
        <tr>
          <td rowspan="2" class="row-group">Services</td>
          <td colspan="2" class="text-center shadow-cell">Aggregated Data: 1.56</td>
          <td>0.9k</td>
          <td class="valign-bottom">
            <div style="height: 40px; border-left: 2px solid #3498db; padding-left: 5px;">
              Critical<br>Path
            </div>
          </td>
        </tr>
        <tr>
          <td>0.99</td>
          <td>1.05</td>
          <td>2.1k</td>
          <td class="bg-pattern">Top</td>
        </tr>
      </tbody>
      <tfoot>
        <tr style="background-color: #2c3e50; color: white; font-weight: bold;">
          <td>Totals</td>
          <td>2.61</td>
          <td>2.78</td>
          <td>4.2k</td>
          <td>N/A</td>
          <td class="text-center">94.5%</td>
        </tr>
      </tfoot>
    </table>

    <div style="display: flex; gap: 20px;">
      <table style="flex: 1;">
        <tr>
          <th colspan="2">System Health</th>
        </tr>
        <tr>
          <td>CPU</td>
          <td style="width: 50%;">
            <div style="width: 80%; background: #2ecc71; height: 10px; border-radius: 5px;"></div>
          </td>
        </tr>
        <tr>
          <td>RAM</td>
          <td>
            <div style="width: 40%; background: #f1c40f; height: 10px; border-radius: 5px;"></div>
          </td>
        </tr>
        <tr>
          <td>IO</td>
          <td>
            <div style="width: 95%; background: #e74c3c; height: 10px; border-radius: 5px;"></div>
          </td>
        </tr>
      </table>

      <table style="flex: 1;">
        <tr>
          <th>Feature</th>
          <th>Status</th>
        </tr>
        <tr>
          <td>WASM Core</td>
          <td><span class="badge badge-dev">Active</span></td>
        </tr>
        <tr>
          <td>Skia Render</td>
          <td><span class="badge badge-dev">Active</span></td>
        </tr>
        <tr>
          <td>PDF Export</td>
          <td><span class="badge badge-dev" style="opacity: 0.5;">Experimental</span></td>
        </tr>
      </table>
    </div>

    <table style="margin-top: 20px; border: 2px solid #333;">
      <tr>
        <td style="width: 30%; height: 100px;" class="valign-top">
          <strong>Top Aligned</strong><br>
          This cell uses vertical-align: top to test baseline alignment in complex rows.
        </td>
        <td style="width: 30%;" class="text-center">
          <strong>Middle (Default)</strong><br>
          Centered content.
        </td>
        <td style="width: 40%;" class="valign-bottom">
          <div style="background: #f8f9fa; border: 1px dashed #ccc; padding: 10px;">
            <strong>Bottom Aligned</strong><br>
            Content pushed to the floor of the cell.
          </div>
        </td>
      </tr>
    </table>
  </div>

</body>

</html>
